# 注意事项

- 组件化差

- 状态管理混乱

- 对话流请求

- 上线检查

#### 组件化

部分老代码组件中带有请求接口的逻辑，不利于通用。

组件的prop不够通用，不够直观。属性定位存在边界问题。

组件缺少插槽使用。不利于扩展。

#### 状态管理混乱

vuex和localStorage、sessionStorage混用

原因：有些路由跳转不能使用vue-router的API,导致单页应用被初始化，丢失了vuex仓库中的状态。所以数据存在了本地localStorage。

#### 对话流请求

对话流中所有请求都是靠jsonp发起，jsonp携带的数据量最多为4kb，超出将请求失败。

#### 上线检查

上线前要检查问卷的appid是否是线上的appid,如果不是找算法同事要。
